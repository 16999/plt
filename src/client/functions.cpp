#include "functions.h"


int globalMap[] = {
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x0A,0x0B,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0A,0x0B,0x0C,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,
0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,
0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,
0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,0x0D,
0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x09,0x0D,0x0D,0x07,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,
0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x06,0x02,0x02,0x04,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05,
0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x06,0x01,0x01,0x04,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05};

sf::RenderWindow scene(sf::VideoMode(client::WINDOW_WIDTH, client::WINDOW_HEIGHT), "Tanks Battle !");
sf::Event event;

client::Map map(globalMap);
client::Player playerA(client::NAVY_TANK,50,432);
client::Player playerB(client::GREY_TANK,670,432);


void refresh(void)
{
  scene.setFramerateLimit(60);
  scene.setVerticalSyncEnabled(true);
  while (scene.isOpen())
  {
    if (scene.pollEvent(event)) // "close requested" event: we close the window
    {
        if (event.type == sf::Event::Closed)  scene.close();
    }
    scene.clear(sf::Color(32,64,255));

    map.drawMap(scene);
    playerA.drawPlayer(scene);
    playerB.drawPlayer(scene);
    //player.goForward();

    scene.display();
  }
}
